(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1120:(e,a,s)=>{"use strict";s.d(a,{T:()=>l});var t=s(5155);s(2115);var r=s(4269);function l(e){let{className:a,...s}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...s})}},1359:(e,a,s)=>{"use strict";s.d(a,{A:()=>l});var t=s(5155);s(2115);var r=s(4269);function l(e){let{size:a="md",className:s}=e;return(0,t.jsx)("div",{className:(0,r.cn)("animate-spin rounded-full border-2 border-gray-300 border-t-blue-500",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[a],s),children:(0,t.jsx)("span",{className:"sr-only",children:"Loading..."})})}},2544:(e,a,s)=>{"use strict";s.d(a,{default:()=>X});var t=s(5155),r=s(2686),l=s(2115),i=s(1359),n=s(5993),d=s(6651),c=s(5998),o=s(3664),x=s(235),m=s(508),h=s(7772),u=s(5870),p=s(4926),g=s(1878),b=s(4269);function v(e){let{...a}=e;return(0,t.jsx)(g.bL,{"data-slot":"dropdown-menu",...a})}function f(e){let{...a}=e;return(0,t.jsx)(g.l9,{"data-slot":"dropdown-menu-trigger",...a})}function j(e){let{className:a,sideOffset:s=4,...r}=e;return(0,t.jsx)(g.ZL,{children:(0,t.jsx)(g.UC,{"data-slot":"dropdown-menu-content",sideOffset:s,className:(0,b.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...r})})}function N(e){let{className:a,inset:s,variant:r="default",...l}=e;return(0,t.jsx)(g.q7,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":r,className:(0,b.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...l})}function y(e){let{className:a,...s}=e;return(0,t.jsx)(g.wv,{"data-slot":"dropdown-menu-separator",className:(0,b.cn)("bg-border -mx-1 my-1 h-px",a),...s})}var w=s(3998),k=s(5897),A=s(9787);function S(e){let{currentPage:a="home",onNavigate:s}=e,{user:l,logout:i}=(0,r.A)(),g=[{name:"Home",icon:n.A,current:"home"===a,page:"home"},{name:"Explore",icon:d.A,current:"explore"===a,page:"explore"},{name:"Notifications",icon:c.A,current:"notifications"===a,page:"notifications",badge:!0},{name:"Messages",icon:o.A,current:"messages"===a,page:"messages"},{name:"Bookmarks",icon:x.A,current:"bookmarks"===a,page:"bookmarks"},{name:"Profile",icon:m.A,current:"profile"===a,page:"profile"},{name:"More",icon:h.A,current:"more"===a,page:"more"}];return(0,t.jsxs)("div",{className:"flex flex-col h-screen w-64 border-r border-gray-800 bg-black",children:[(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)(A.A,{size:"lg",className:"text-white"})}),(0,t.jsxs)("nav",{className:"flex-1 px-2",children:[(0,t.jsx)("ul",{className:"space-y-2",children:g.map(e=>(0,t.jsx)("li",{children:(0,t.jsxs)(w.$,{variant:"ghost",className:"w-full justify-start text-xl py-6 px-4 rounded-full hover:bg-gray-900 ".concat(e.current?"font-bold":"font-normal"," text-white hover:text-white"),onClick:()=>null==s?void 0:s(e.page),children:[(0,t.jsx)(e.icon,{className:"mr-4 h-7 w-7"}),e.name,e.badge&&(0,t.jsx)("span",{className:"ml-2 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:"3"})]})},e.name))}),(0,t.jsx)("div",{className:"mt-8 px-2",children:(0,t.jsx)(w.$,{className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-full text-lg",children:"Post"})})]}),l&&(0,t.jsx)("div",{className:"p-4 border-t border-gray-800",children:(0,t.jsxs)(v,{children:[(0,t.jsx)(f,{asChild:!0,children:(0,t.jsxs)(w.$,{variant:"ghost",className:"w-full justify-start p-3 rounded-full hover:bg-gray-900",children:[(0,t.jsxs)(k.eu,{className:"h-10 w-10 mr-3",children:[(0,t.jsx)(k.BK,{src:l.avatar,alt:l.displayName}),(0,t.jsx)(k.q5,{children:l.displayName[0]})]}),(0,t.jsxs)("div",{className:"flex-1 text-left",children:[(0,t.jsx)("div",{className:"text-white font-semibold",children:l.displayName}),(0,t.jsxs)("div",{className:"text-gray-400 text-sm",children:["@",l.username]})]}),(0,t.jsx)(h.A,{className:"h-5 w-5 text-gray-400"})]})}),(0,t.jsxs)(j,{className:"w-56 bg-black border-gray-800",children:[(0,t.jsxs)(N,{className:"text-white hover:bg-gray-900",children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,t.jsx)(y,{className:"bg-gray-800"}),(0,t.jsxs)(N,{className:"text-white hover:bg-gray-900",onClick:i,children:[(0,t.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Log out @",l.username]})]})]})})]})}var z=s(5142),C=s(6948);let $=[{id:"1",username:"narendramodi",displayName:"Narendra Modi",avatar:"https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=400",verified:!0},{id:"2",username:"akshaykumar",displayName:"Akshay Kumar",avatar:"https://images.pexels.com/photos/1382735/pexels-photo-1382735.jpeg?auto=compress&cs=tinysrgb&w=400",verified:!0},{id:"3",username:"rashtrapatibhvn",displayName:"President of India",avatar:"https://images.pexels.com/photos/1080213/pexels-photo-1080213.jpeg?auto=compress&cs=tinysrgb&w=400",verified:!0}];function _(){return(0,t.jsxs)("div",{className:"w-80 p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(z.p,{placeholder:"Search",className:"pl-12 bg-gray-900 border-gray-800 text-white placeholder-gray-400 rounded-full py-3"})]}),(0,t.jsx)(C.Zp,{className:"bg-gray-900 border-gray-800",children:(0,t.jsxs)(C.Wu,{className:"p-4",children:[(0,t.jsx)("h3",{className:"text-white text-xl font-bold mb-2",children:"Subscribe to Premium"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Subscribe to unlock new features and if eligible, receive a share of revenue."}),(0,t.jsx)(w.$,{className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-full",children:"Subscribe"})]})}),(0,t.jsx)(C.Zp,{className:"bg-gray-900 border-gray-800",children:(0,t.jsxs)(C.Wu,{className:"p-4",children:[(0,t.jsx)("h3",{className:"text-white text-xl font-bold mb-4",children:"You might like"}),(0,t.jsx)("div",{className:"space-y-4",children:$.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(k.eu,{className:"h-10 w-10",children:[(0,t.jsx)(k.BK,{src:e.avatar,alt:e.displayName}),(0,t.jsx)(k.q5,{children:e.displayName[0]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("span",{className:"text-white font-semibold",children:e.displayName}),e.verified&&(0,t.jsx)("div",{className:"bg-blue-500 rounded-full p-0.5",children:(0,t.jsx)("svg",{className:"h-3 w-3 text-white fill-current",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})})})]}),(0,t.jsxs)("span",{className:"text-gray-400 text-sm",children:["@",e.username]})]})]}),(0,t.jsx)(w.$,{variant:"outline",className:"bg-white text-black hover:bg-gray-200 font-semibold rounded-full px-4",children:"Follow"})]},e.id))}),(0,t.jsx)(w.$,{variant:"ghost",className:"text-blue-400 hover:text-blue-300 p-0 mt-4",children:"Show more"})]})}),(0,t.jsxs)("div",{className:"p-4 text-xs text-gray-500 space-y-2",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1",children:[(0,t.jsx)("a",{href:"#",className:"hover:underline",children:"Terms of Service"}),(0,t.jsx)("a",{href:"#",className:"hover:underline",children:"Privacy Policy"}),(0,t.jsx)("a",{href:"#",className:"hover:underline",children:"Cookie Policy"}),(0,t.jsx)("a",{href:"#",className:"hover:underline",children:"Accessibility"}),(0,t.jsx)("a",{href:"#",className:"hover:underline",children:"Ads info"})]}),(0,t.jsx)("div",{children:"\xa9 2024 X Corp."})]})]})}var P=s(5626),L=s(5664),B=s(1873),W=s(859),F=s(6485),I=s(3406),D=s(8758),E=s(5229),U=s(6444),M=s(1120),Z=s(6459);let J=e=>{var a;let{isopen:s,onclose:n}=e,{user:d,updateProfile:c}=(0,r.A)(),[o,x]=(0,l.useState)(!1),[m,h]=(0,l.useState)({displayName:(null==d?void 0:d.displayName)||"",bio:(null==d?void 0:d.bio)||"",location:"Earth",website:"example.com",avatar:(null==d?void 0:d.avatar)||""}),[u,p]=(0,l.useState)({});if(!s||!d)return null;let g=async e=>{if(e.preventDefault(),(()=>{let e={};return m.displayName.trim()?m.displayName.length>50&&(e.displayName="Display name must be 50 characters or less"):e.displayName="Display name is required",m.bio.length>160&&(e.bio="Bio must be 160 characters or less"),m.website&&m.website.length>100&&(e.website="Website must be 100 characters or less"),m.location&&m.location.length>30&&(e.location="Location must be 30 characters or less"),p(e),0===Object.keys(e).length})()&&!o){x(!0);try{await c(m),n()}catch(e){p({general:"Failed to update profile. Please try again."})}finally{x(!1)}}},b=(e,a)=>{h(s=>({...s,[e]:a})),u[e]&&p(a=>({...a,[e]:""}))},v=async e=>{if(!e.target.files||0===e.target.files.length)return;x(!0);let a=e.target.files[0],s=new FormData;s.set("image",a);try{let e=(await Z.A.post("https://api.imgbb.com/1/upload?key=5562acec3a7c38503828a1bb59c2e215",s)).data.data.display_url;e&&h(a=>({...a,avatar:e}))}catch(e){console.log(e)}finally{x(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(C.Zp,{className:"w-full max-w-2xl bg-black border-gray-800 text-white max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(C.aR,{className:"relative pb-4 border-b border-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(w.$,{variant:"ghost",size:"icon",className:"text-white bg-black hover:bg-gray-900",onClick:n,disabled:o,children:(0,t.jsx)(E.A,{className:"h-5 w-5"})}),(0,t.jsx)(C.ZB,{className:"text-xl font-bold",children:"Edit profile"})]}),(0,t.jsx)(w.$,{type:"submit",form:"edit-profile-form",className:"bg-white text-black hover:bg-gray-200 font-semibold rounded-full px-6",disabled:o,children:o?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(i.A,{size:"sm"}),(0,t.jsx)("span",{children:"Saving..."})]}):"Save"})]})}),(0,t.jsxs)(C.Wu,{className:"p-0",children:[u.general&&(0,t.jsx)("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-3 text-red-400 text-sm m-4",children:u.general}),(0,t.jsxs)("form",{id:"edit-profile-form",onSubmit:g,children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-purple-600 relative",children:(0,t.jsx)(w.$,{type:"button",variant:"ghost",size:"sm",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 p-3 rounded-full bg-black/70 hover:bg-black/90",disabled:o,children:(0,t.jsx)(L.A,{className:"h-6 w-6 text-white"})})}),(0,t.jsx)("div",{className:"absolute -bottom-16 left-4",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(k.eu,{className:"h-32 w-32 border-4 border-black",children:[(0,t.jsx)(k.BK,{src:null==d?void 0:d.avatar,alt:null==d?void 0:d.displayName}),(0,t.jsx)(k.q5,{className:"text-2xl",children:null==d||null==(a=d.displayName)?void 0:a[0]})]}),(0,t.jsx)("input",{type:"file",accept:"image/*",id:"avatarUpload",className:"hidden",onChange:v}),(0,t.jsx)(w.$,{type:"button",variant:"ghost",size:"sm",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 p-3 rounded-full bg-black/70 hover:bg-black/90",disabled:o,onClick:()=>{var e;return null==(e=document.getElementById("avatarUpload"))?void 0:e.click()},children:(0,t.jsx)(L.A,{className:"h-5 w-5 text-white"})})]})})]}),(0,t.jsxs)("div",{className:"p-4 mt-16 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(U.J,{htmlFor:"displayName",className:"text-white",children:"Name"}),(0,t.jsx)(z.p,{id:"displayName",type:"text",value:m.displayName,onChange:e=>b("displayName",e.target.value),className:"bg-transparent border-gray-600 text-white placeholder-gray-400 focus:border-blue-500",placeholder:"Your display name",maxLength:50,disabled:o}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[u.displayName&&(0,t.jsx)("p",{className:"text-red-400",children:u.displayName}),(0,t.jsxs)("p",{className:"text-gray-400 ml-auto",children:[m.displayName.length,"/50"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(U.J,{htmlFor:"bio",className:"text-white",children:"Bio"}),(0,t.jsx)(M.T,{id:"bio",value:m.bio,onChange:e=>b("bio",e.target.value),className:"bg-transparent border-gray-600 text-white placeholder-gray-400 focus:border-blue-500 resize-none min-h-[100px]",placeholder:"Tell the world about yourself",maxLength:160,disabled:o}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[u.bio&&(0,t.jsx)("p",{className:"text-red-400",children:u.bio}),(0,t.jsxs)("p",{className:"text-gray-400 ml-auto",children:[m.bio.length,"/160"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(U.J,{htmlFor:"location",className:"text-white",children:"Location"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(B.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(z.p,{id:"location",type:"text",value:m.location,onChange:e=>b("location",e.target.value),className:"pl-10 bg-transparent border-gray-600 text-white placeholder-gray-400 focus:border-blue-500",placeholder:"Where are you located?",maxLength:30,disabled:o})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[u.location&&(0,t.jsx)("p",{className:"text-red-400",children:u.location}),(0,t.jsxs)("p",{className:"text-gray-400 ml-auto",children:[m.location.length,"/30"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(U.J,{htmlFor:"website",className:"text-white",children:"Website"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(W.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(z.p,{id:"website",type:"text",value:m.website,onChange:e=>b("website",e.target.value),className:"pl-10 bg-transparent border-gray-600 text-white placeholder-gray-400 focus:border-blue-500",placeholder:"Your website URL",maxLength:100,disabled:o})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[u.website&&(0,t.jsx)("p",{className:"text-red-400",children:u.website}),(0,t.jsxs)("p",{className:"text-gray-400 ml-auto",children:[m.website.length,"/100"]})]})]})]})]})]})]})})};function q(){let{user:e}=(0,r.A)(),[a,s]=(0,l.useState)("posts"),[i,n]=(0,l.useState)(!1);if(!e)return null;let[d,c]=(0,l.useState)([]),[o,x]=(0,l.useState)(!1),m=async()=>{try{x(!0);let e=await Z.A.get("/post");c(e.data)}catch(e){console.error(e)}finally{x(!1)}};(0,l.useEffect)(()=>{m()},[]);let u=d.filter(a=>a.author._id===e._id);return(0,t.jsxs)("div",{className:"min-h-screen",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-black/90 backdrop-blur-md border-b border-gray-800 z-10",children:(0,t.jsxs)("div",{className:"flex items-center px-4 py-3 space-x-8",children:[(0,t.jsx)(w.$,{variant:"ghost",size:"sm",className:"p-2 rounded-full hover:bg-gray-900",children:(0,t.jsx)(P.A,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-white",children:e.displayName}),(0,t.jsxs)("p",{className:"text-sm text-gray-400",children:[u.length," posts"]})]})]})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"h-48 bg-gradient-to-r from-blue-600 to-purple-600 relative",children:(0,t.jsx)(w.$,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 p-2 rounded-full bg-black/50 hover:bg-black/70",children:(0,t.jsx)(L.A,{className:"h-5 w-5 text-white"})})}),(0,t.jsx)("div",{className:"absolute -bottom-16 left-4",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(k.eu,{className:"h-32 w-32 border-4 border-black",children:[(0,t.jsx)(k.BK,{src:e.avatar,alt:e.displayName}),(0,t.jsx)(k.q5,{className:"text-2xl",children:e.displayName[0]})]}),(0,t.jsx)(w.$,{variant:"ghost",size:"sm",className:"absolute bottom-2 right-2 p-2 rounded-full bg-black/70 hover:bg-black/90",children:(0,t.jsx)(L.A,{className:"h-4 w-4 text-white"})})]})}),(0,t.jsx)("div",{className:"flex justify-end p-4",children:(0,t.jsx)(w.$,{variant:"outline",className:"border-gray-600 text-white bg-gray-950 font-semibold rounded-full px-6",onClick:()=>n(!0),children:"Edit profile"})})]}),(0,t.jsxs)("div",{className:"px-4 pb-4 mt-12",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white",children:e.displayName}),(0,t.jsxs)("p",{className:"text-gray-400",children:["@",e.username]})]}),(0,t.jsx)(w.$,{variant:"ghost",size:"sm",className:"p-2 rounded-full hover:bg-gray-900",children:(0,t.jsx)(h.A,{className:"h-5 w-5 text-gray-400"})})]}),e.bio&&(0,t.jsx)("p",{className:"text-white mb-3 leading-relaxed",children:e.bio}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-gray-400 text-sm mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(B.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.location?e.location:"Earth"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(W.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-blue-400",children:e.website?e.website:"example.com"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(F.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["Joined"," ",e.joinedDate&&new Date(e.joinedDate).toLocaleDateString("en-us",{month:"long",year:"numeric"})]})]})]})]}),(0,t.jsxs)(I.tU,{value:a,onValueChange:s,className:"w-full",children:[(0,t.jsxs)(I.j7,{className:"grid w-full grid-cols-5 bg-transparent border-b border-gray-800 rounded-none h-auto",children:[(0,t.jsx)(I.Xi,{value:"posts",className:"data-[state=active]:bg-transparent data-[state=active]:text-white data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:rounded-none text-gray-400 hover:bg-gray-900/50 py-4 font-semibold",children:"Posts"}),(0,t.jsx)(I.Xi,{value:"replies",className:"data-[state=active]:bg-transparent data-[state=active]:text-white data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:rounded-none text-gray-400 hover:bg-gray-900/50 py-4 font-semibold",children:"Replies"}),(0,t.jsx)(I.Xi,{value:"highlights",className:"data-[state=active]:bg-transparent data-[state=active]:text-white data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:rounded-none text-gray-400 hover:bg-gray-900/50 py-4 font-semibold",children:"Highlights"}),(0,t.jsx)(I.Xi,{value:"articles",className:"data-[state=active]:bg-transparent data-[state=active]:text-white data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:rounded-none text-gray-400 hover:bg-gray-900/50 py-4 font-semibold",children:"Articles"}),(0,t.jsx)(I.Xi,{value:"media",className:"data-[state=active]:bg-transparent data-[state=active]:text-white data-[state=active]:border-b-2 data-[state=active]:border-blue-500 data-[state=active]:rounded-none text-gray-400 hover:bg-gray-900/50 py-4 font-semibold",children:"Media"})]}),(0,t.jsx)(I.av,{value:"posts",className:"mt-0",children:(0,t.jsx)("div",{className:"divide-y divide-gray-800",children:o?(0,t.jsx)(C.Zp,{className:"bg-black border-none",children:(0,t.jsx)(C.Wu,{className:"py-12 text-center",children:(0,t.jsxs)("div",{className:"text-gray-400",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"You haven't posted yet"}),(0,t.jsx)("p",{children:"When you post, it will show up here."})]})})}):u.map(e=>(0,t.jsx)(D.A,{tweet:e},e._id))})}),(0,t.jsx)(I.av,{value:"replies",className:"mt-0",children:(0,t.jsx)(C.Zp,{className:"bg-black border-none",children:(0,t.jsx)(C.Wu,{className:"py-12 text-center",children:(0,t.jsxs)("div",{className:"text-gray-400",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"You haven't replied yet"}),(0,t.jsx)("p",{children:"When you reply to a post, it will show up here."})]})})})}),(0,t.jsx)(I.av,{value:"highlights",className:"mt-0",children:(0,t.jsx)(C.Zp,{className:"bg-black border-none",children:(0,t.jsx)(C.Wu,{className:"py-12 text-center",children:(0,t.jsxs)("div",{className:"text-gray-400",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Lights, camera … attachments!"}),(0,t.jsx)("p",{children:"When you post photos or videos, they will show up here."})]})})})}),(0,t.jsx)(I.av,{value:"articles",className:"mt-0",children:(0,t.jsx)(C.Zp,{className:"bg-black border-none",children:(0,t.jsx)(C.Wu,{className:"py-12 text-center",children:(0,t.jsxs)("div",{className:"text-gray-400",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"You haven't written any articles"}),(0,t.jsx)("p",{children:"When you write articles, they will show up here."})]})})})}),(0,t.jsx)(I.av,{value:"media",className:"mt-0",children:(0,t.jsx)(C.Zp,{className:"bg-black border-none",children:(0,t.jsx)(C.Wu,{className:"py-12 text-center",children:(0,t.jsxs)("div",{className:"text-gray-400",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Lights, camera … attachments!"}),(0,t.jsx)("p",{children:"When you post photos or videos, they will show up here."})]})})})})]}),(0,t.jsx)(J,{isopen:i,onclose:()=>n(!1)})]})}let X=e=>{let{children:a}=e,{user:s,isLoading:n}=(0,r.A)(),[d,c]=(0,l.useState)("home");return n?(0,t.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-white text-4xl font-bold mb-4",children:"X"}),(0,t.jsx)(i.A,{size:"lg"})]})}):s?(0,t.jsxs)("div",{className:"min-h-screen bg-black text-white flex justify-center",children:[(0,t.jsx)("div",{className:"w-20 sm:w-24 md:w-64 border-r border-gray-800",children:(0,t.jsx)(S,{currentPage:d,onNavigate:c})}),(0,t.jsx)("main",{className:"flex-1 max-w-2xl border-x border-gray-800",children:"profile"===d?(0,t.jsx)(q,{}):a}),(0,t.jsx)("div",{className:"hidden lg:block w-80 p-4",children:(0,t.jsx)(_,{})})]}):(0,t.jsx)(t.Fragment,{children:a})}},2686:(e,a,s)=>{"use strict";s.d(a,{AuthProvider:()=>m,A:()=>x});var t=s(5155),r=s(2115),l=s(2553),i=s(2078);let n=(0,i.Dk)().length?(0,i.Sx)():(0,i.Wp)({apiKey:"AIzaSyAmn35ew9BUuTlSxyeXQAlNdizsYfbFxSM",authDomain:"twiller-1a149.firebaseapp.com",projectId:"twiller-1a149",storageBucket:"twiller-1a149.firebasestorage.app",messagingSenderId:"316200197752",appId:"1:316200197752:web:ce1de2e0e47ba6aaa6d78d"}),d=(0,l.xI)(n);var c=s(6459);let o=(0,r.createContext)(null);function x(){let e=(0,r.useContext)(o);if(!e)throw Error("useAuth must be used inside AuthProvider");return e}function m(e){let{children:a}=e,[s,i]=(0,r.useState)(null),[n,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=(0,l.hg)(d,async e=>{if(null==e?void 0:e.email)try{let a=await c.A.get("/loggedinuser",{params:{email:e.email}});a.data&&(i(a.data),localStorage.setItem("twitter-user",JSON.stringify(a.data)))}catch(e){console.error("Failed to fetch user:",e)}else i(null),localStorage.removeItem("twitter-user");x(!1)});return()=>e()},[]);let m=async(e,a)=>{x(!0);let s=(await (0,l.x9)(d,e,a)).user,t=await c.A.get("/loggedinuser",{params:{email:s.email}});t.data&&(i(t.data),localStorage.setItem("twitter-user",JSON.stringify(t.data))),x(!1)},h=async(e,a,s,t)=>{x(!0);let r=(await (0,l.eJ)(d,e,a)).user,n={username:s,displayName:t,avatar:r.photoURL||"https://images.pexels.com/photos/1139743/pexels-photo-1139743.jpeg",email:r.email},o=await c.A.post("/register",n);o.data&&(i(o.data),localStorage.setItem("twitter-user",JSON.stringify(o.data))),x(!1)},u=async()=>{i(null),await (0,l.CI)(d),localStorage.removeItem("twitter-user")},p=async e=>{if(!s)return;x(!0);let a={...s,...e};(await c.A.patch("/userupdate/".concat(s.email),a)).data&&(i(a),localStorage.setItem("twitter-user",JSON.stringify(a))),x(!1)},g=async()=>{x(!0);try{let e,a=new l.HF,s=(await (0,l.df)(d,a)).user;if(!(null==s?void 0:s.email))throw Error("No email found in Google account");try{e=(await c.A.get("/loggedinuser",{params:{email:s.email}})).data}catch(t){let a={username:s.email.split("@")[0],displayName:s.displayName||"User",avatar:s.photoURL||"https://images.pexels.com/photos/1139743/pexels-photo-1139743.jpeg",email:s.email};e=(await c.A.post("/register",a)).data}i(e),localStorage.setItem("twitter-user",JSON.stringify(e))}catch(e){console.error("Google Sign-In Error:",e),alert(e.message||"Login failed")}finally{x(!1)}};return(0,t.jsx)(o.Provider,{value:{user:s,login:m,signup:h,updateProfile:p,logout:u,isLoading:n,googlesignin:g},children:a})}},3406:(e,a,s)=>{"use strict";s.d(a,{Xi:()=>d,av:()=>c,j7:()=>n,tU:()=>i});var t=s(5155);s(2115);var r=s(5667),l=s(4269);function i(e){let{className:a,...s}=e;return(0,t.jsx)(r.bL,{"data-slot":"tabs",className:(0,l.cn)("flex flex-col gap-2",a),...s})}function n(e){let{className:a,...s}=e;return(0,t.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,l.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...s})}function d(e){let{className:a,...s}=e;return(0,t.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,l.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...s})}function c(e){let{className:a,...s}=e;return(0,t.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,l.cn)("flex-1 outline-none",a),...s})}},3998:(e,a,s)=>{"use strict";s.d(a,{$:()=>d});var t=s(5155);s(2115);var r=s(2467),l=s(3101),i=s(4269);let n=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:a,variant:s,size:l,asChild:d=!1,...c}=e,o=d?r.DX:"button";return(0,t.jsx)(o,{"data-slot":"button",className:(0,i.cn)(n({variant:s,size:l,className:a})),...c})}},4269:(e,a,s)=>{"use strict";s.d(a,{cn:()=>l});var t=s(2821),r=s(5889);function l(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}},5142:(e,a,s)=>{"use strict";s.d(a,{p:()=>l});var t=s(5155);s(2115);var r=s(4269);function l(e){let{className:a,type:s,...l}=e;return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...l})}},5897:(e,a,s)=>{"use strict";s.d(a,{BK:()=>n,eu:()=>i,q5:()=>d});var t=s(5155);s(2115);var r=s(6591),l=s(4269);function i(e){let{className:a,...s}=e;return(0,t.jsx)(r.bL,{"data-slot":"avatar",className:(0,l.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...s})}function n(e){let{className:a,...s}=e;return(0,t.jsx)(r._V,{"data-slot":"avatar-image",className:(0,l.cn)("aspect-square size-full",a),...s})}function d(e){let{className:a,...s}=e;return(0,t.jsx)(r.H4,{"data-slot":"avatar-fallback",className:(0,l.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...s})}},6444:(e,a,s)=>{"use strict";s.d(a,{J:()=>i});var t=s(5155);s(2115);var r=s(489),l=s(4269);function i(e){let{className:a,...s}=e;return(0,t.jsx)(r.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...s})}},6459:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=s(5125).A.create({baseURL:"https://twiller-clone-pqr3.onrender.com",headers:{"Content-Type":"application/json"}})},6948:(e,a,s)=>{"use strict";s.d(a,{Wu:()=>d,ZB:()=>n,Zp:()=>l,aR:()=>i});var t=s(5155);s(2115);var r=s(4269);function l(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...s})}function i(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...s})}function n(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",a),...s})}function d(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",a),...s})}},7802:(e,a,s)=>{Promise.resolve().then(s.bind(s,8891)),Promise.resolve().then(s.bind(s,2544)),Promise.resolve().then(s.bind(s,2686))},8758:(e,a,s)=>{"use strict";s.d(a,{A:()=>p});var t=s(5155),r=s(2115),l=s(5897),i=s(3998),n=s(6948),d=s(7772),c=s(5937),o=s(431),x=s(3457),m=s(5022),h=s(2686),u=s(6459);function p(e){var a,s;let{tweet:p}=e,{user:g}=(0,h.A)(),[b,v]=(0,r.useState)(p),f=async e=>{try{let a=await u.A.post("/like/".concat(e),{userId:null==g?void 0:g._id});v(a.data)}catch(e){console.log(e)}},j=async e=>{try{let a=await u.A.post("/retweet/".concat(e),{userId:null==g?void 0:g._id});v(a.data)}catch(e){console.log(e)}},N=e=>e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString(),y=null==(a=b.likedBy)?void 0:a.includes(null==g?void 0:g._id),w=null==(s=b.retweetedBy)?void 0:s.includes(null==g?void 0:g._id);return(0,t.jsx)(n.Zp,{className:"bg-black border-gray-800 border-x-0 border-t-0 rounded-none hover:bg-gray-950/50 transition-colors cursor-pointer",children:(0,t.jsx)(n.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsxs)(l.eu,{className:"h-12 w-12",children:[(0,t.jsx)(l.BK,{src:b.author.avatar,alt:b.author.displayName}),(0,t.jsx)(l.q5,{children:b.author.displayName})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,t.jsx)("span",{className:"font-bold text-white",children:b.author.displayName}),b.author.verified&&(0,t.jsx)("div",{className:"bg-blue-500 rounded-full p-0.5",children:(0,t.jsx)("svg",{className:"h-4 w-4 text-white fill-current",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})})}),(0,t.jsxs)("span",{className:"text-gray-500",children:["@",b.author.username]}),(0,t.jsx)("span",{className:"text-gray-500",children:"\xb7"}),(0,t.jsx)("span",{className:"text-gray-500",children:b.timestamp&&new Date(b.timestamp).toLocaleDateString("en-us",{month:"long",year:"numeric"})}),(0,t.jsx)("div",{className:"ml-auto",children:(0,t.jsx)(i.$,{variant:"ghost",size:"sm",className:"p-1 rounded-full hover:bg-gray-900",children:(0,t.jsx)(d.A,{className:"h-5 w-5 text-gray-500"})})})]}),(0,t.jsx)("div",{className:"text-white mb-3 leading-relaxed",children:b.content}),b.image&&(0,t.jsx)("div",{className:"mb-3 rounded-2xl overflow-hidden",children:(0,t.jsx)("img",{src:b.image,alt:"Tweet image",className:"w-full h-auto max-h-96 object-cover"})}),(0,t.jsxs)("div",{className:"flex items-center justify-between max-w-md",children:[(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",className:"flex items-center space-x-2 p-2 rounded-full hover:bg-blue-900/20 text-gray-500 hover:text-blue-400 group",children:[(0,t.jsx)(c.A,{className:"h-5 w-5 group-hover:text-blue-400"}),(0,t.jsx)("span",{className:"text-sm",children:N(b.comments)})]}),(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",className:"flex items-center space-x-2 p-2 rounded-full hover:bg-green-900/20 group ".concat(w?"text-green-400":"text-gray-500 hover:text-green-400"),onClick:e=>{e.stopPropagation(),j(b._id)},children:[(0,t.jsx)(o.A,{className:"h-5 w-5 ".concat(p.retweeted?"text-green-400":"group-hover:text-green-400")}),(0,t.jsx)("span",{className:"text-sm",children:N(b.retweets)})]}),(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",className:"flex items-center space-x-2 p-2 rounded-full hover:bg-red-900/20 group ".concat(y?"text-red-500":"text-gray-500 hover:text-red-400"),onClick:e=>{e.stopPropagation(),f(b._id)},children:[(0,t.jsx)(x.A,{className:"h-5 w-5 ".concat(b.liked?"text-red-500 fill-current":"group-hover:text-red-400")}),(0,t.jsx)("span",{className:"text-sm",children:N(b.likes)})]}),(0,t.jsx)(i.$,{variant:"ghost",size:"sm",className:"flex items-center space-x-2 p-2 rounded-full hover:bg-blue-900/20 text-gray-500 hover:text-blue-400 group",children:(0,t.jsx)(m.A,{className:"h-5 w-5 group-hover:text-blue-400"})})]})]})]})})})}},8891:(e,a,s)=>{"use strict";s.d(a,{default:()=>F});var t=s(5155),r=s(2115),l=s(3998),i=s(5229),n=s(508),d=s(3664),c=s(9708),o=s(532),x=s(7828),m=s(1359),h=s(6948),u=s(6444),p=s(5142),g=s(7268),b=s(4269);function v(e){let{className:a,orientation:s="horizontal",decorative:r=!0,...l}=e;return(0,t.jsx)(g.b,{"data-slot":"separator",decorative:r,orientation:s,className:(0,b.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...l})}var f=s(2686),j=s(9787);function N(e){let{isOpen:a,onClose:s,initialMode:g="login"}=e,{login:b,signup:N,isLoading:y}=(0,f.A)(),[w,k]=(0,r.useState)(g),[A,S]=(0,r.useState)(!1),[z,C]=(0,r.useState)({email:"",password:"",username:"",displayName:""}),[$,_]=(0,r.useState)({});if(!a)return null;let P=async e=>{if(e.preventDefault(),(()=>{let e={};return z.email.trim()?/\S+@\S+\.\S+/.test(z.email)||(e.email="Please enter a valid email"):e.email="Email is required",z.password.trim()?z.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required","signup"===w&&(z.username.trim()?z.username.length<3?e.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(z.username)||(e.username="Username can only contain letters, numbers, and underscores"):e.username="Username is required",z.displayName.trim()||(e.displayName="Display name is required")),_(e),0===Object.keys(e).length})()&&!y)try{"login"===w?await b(z.email,z.password):await N(z.email,z.password,z.username,z.displayName),s(),C({email:"",password:"",username:"",displayName:""}),_({})}catch(e){_({general:"Authentication failed. Please try again."})}},L=(e,a)=>{C(s=>({...s,[e]:a})),$[e]&&_(a=>({...a,[e]:""}))};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)(h.Zp,{className:"w-full max-w-md bg-black border-gray-800 text-white",children:[(0,t.jsxs)(h.aR,{className:"relative pb-6",children:[(0,t.jsx)(l.$,{variant:"ghost",size:"icon",className:"absolute right-4 top-4 text-white hover:bg-gray-900",onClick:s,children:(0,t.jsx)(i.A,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mb-6 flex justify-center",children:(0,t.jsx)(j.A,{size:"xl",className:"text-white"})}),(0,t.jsx)(h.ZB,{className:"text-2xl font-bold",children:"login"===w?"Sign in to X":"Create your account"})]})]}),(0,t.jsxs)(h.Wu,{className:"space-y-6",children:[$.general&&(0,t.jsx)("div",{className:"bg-red-900/20 border border-red-800 rounded-lg p-3 text-red-400 text-sm",children:$.general}),(0,t.jsxs)("form",{onSubmit:P,className:"space-y-4",children:["signup"===w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.J,{htmlFor:"displayName",className:"text-white",children:"Display Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(p.p,{id:"displayName",type:"text",placeholder:"Your display name",autoComplete:"name",value:z.displayName,onChange:e=>L("displayName",e.target.value),className:"pl-10 bg-transparent border-gray-600 text-white placeholder-gray-400 focus:border-blue-500",disabled:y})]}),$.displayName&&(0,t.jsx)("p",{className:"text-red-400 text-sm",children:$.displayName})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.J,{htmlFor:"username",className:"text-white",children:"Username"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"@"}),(0,t.jsx)(p.p,{id:"username",type:"text",placeholder:"username",autoComplete:"username",value:z.username,onChange:e=>L("username",e.target.value),className:"pl-8 bg-transparent border-gray-600 text-white placeholder-gray-400 focus:border-blue-500",disabled:y})]}),$.username&&(0,t.jsx)("p",{className:"text-red-400 text-sm",children:$.username})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.J,{htmlFor:"email",className:"text-white",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(p.p,{id:"email",type:"email",placeholder:"Enter your email",autoComplete:"email",value:z.email,onChange:e=>L("email",e.target.value),className:"pl-10 bg-transparent border-gray-600 text-white placeholder-gray-400 focus:border-blue-500",disabled:y})]}),$.email&&(0,t.jsx)("p",{className:"text-red-400 text-sm",children:$.email})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.J,{htmlFor:"password",className:"text-white",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(p.p,{id:"password",type:A?"text":"password",placeholder:"Enter your password",autoComplete:"current-password",value:z.password,onChange:e=>L("password",e.target.value),className:"pl-10 pr-10 bg-transparent border-gray-600 text-white placeholder-gray-400 focus:border-blue-500",disabled:y}),(0,t.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",onClick:()=>S(!A),children:A?(0,t.jsx)(o.A,{className:"h-4 w-4"}):(0,t.jsx)(x.A,{className:"h-4 w-4"})})]}),$.password&&(0,t.jsx)("p",{className:"text-red-400 text-sm",children:$.password})]}),(0,t.jsx)(l.$,{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 rounded-full text-lg",disabled:y,children:y?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.A,{size:"sm"}),(0,t.jsx)("span",{children:"login"===w?"Signing in...":"Creating account..."})]}):"login"===w?"Sign in":"Create account"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(v,{className:"bg-gray-700"}),(0,t.jsx)("span",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black px-2 text-gray-400 text-sm",children:"OR"})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("p",{className:"text-gray-400",children:["login"===w?"Don't have an account?":"Already have an account?",(0,t.jsx)(l.$,{variant:"link",className:"text-blue-400 hover:text-blue-300 font-semibold pl-1",onClick:()=>{k("login"===w?"signup":"login"),_({}),C({email:"",password:"",username:"",displayName:""})},disabled:y,children:"login"===w?"Sign up":"Sign in"})]})}),"signup"===w&&(0,t.jsx)("div",{className:"text-center text-xs text-gray-400",children:"By signing up, you agree to our Terms of Service and Privacy Policy, including Cookie Use."})]})]})})}var y=s(3406),w=s(8758),k=s(5897),A=s(1120),S=s(2196),z=s(534),C=s(725),$=s(6485),_=s(1873),P=s(9068),L=s(6459);let B=e=>{let{onTweetPosted:a}=e,{user:s}=(0,f.A)(),[i,n]=(0,r.useState)(""),[d,c]=(0,r.useState)(!1),[o,x]=(0,r.useState)(""),m=async e=>{if(e.preventDefault(),s&&i.trim())try{let e={author:null==s?void 0:s._id,content:i,image:o},t=await L.A.post("/post",e);a(t.data),n(""),x("")}catch(e){console.log(e)}finally{c(!1)}},u=i.length,p=u>200,g=u>160;if(!s)return null;let b=async e=>{if(!e.target.files||0===e.target.files.length)return;c(!0);let a=e.target.files[0],s=new FormData;s.set("image",a);try{let e=(await L.A.post("https://api.imgbb.com/1/upload?key=97f3fb960c3520d6a88d7e29679cf96f",s)).data.data.display_url;e&&x(e)}catch(e){console.log(e)}finally{c(!1)}};return(0,t.jsx)(h.Zp,{className:"bg-black border-gray-800 border-x-0 border-t-0 rounded-none",children:(0,t.jsx)(h.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsxs)(k.eu,{className:"h-12 w-12",children:[(0,t.jsx)(k.BK,{src:s.avatar,alt:s.displayName}),(0,t.jsx)(k.q5,{children:s.displayName[0]})]}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("form",{onSubmit:m,children:[(0,t.jsx)(A.T,{placeholder:"What's happening?",value:i,onChange:e=>n(e.target.value),className:"bg-transparent border-none text-xl text-white placeholder-gray-500 resize-none min-h-[120px] focus-visible:ring-0 focus-visible:ring-offset-0"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-blue-400",children:[(0,t.jsxs)("label",{htmlFor:"tweetImage",className:"p-2 rounded-full hover:bg-blue-900/20 cursor-pointer",children:[(0,t.jsx)(S.A,{className:"h-5 w-5"}),(0,t.jsx)("input",{type:"file",accept:"image/*",id:"tweetImage",className:"hidden",onChange:b,disabled:d})]}),(0,t.jsx)(l.$,{variant:"ghost",size:"sm",className:"p-2 rounded-full hover:bg-blue-900/20",children:(0,t.jsx)(z.A,{className:"h-5 w-5"})}),(0,t.jsx)(l.$,{variant:"ghost",size:"sm",className:"p-2 rounded-full hover:bg-blue-900/20",children:(0,t.jsx)(C.A,{className:"h-5 w-5"})}),(0,t.jsx)(l.$,{variant:"ghost",size:"sm",className:"p-2 rounded-full hover:bg-blue-900/20",children:(0,t.jsx)($.A,{className:"h-5 w-5"})}),(0,t.jsx)(l.$,{variant:"ghost",size:"sm",className:"p-2 rounded-full hover:bg-blue-900/20",children:(0,t.jsx)(_.A,{className:"h-5 w-5"})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(P.A,{className:"h-4 w-4 text-blue-400"}),(0,t.jsx)("span",{className:"text-sm text-blue-400 font-semibold",children:"Everyone can reply"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[u>0&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"relative w-8 h-8",children:(0,t.jsxs)("svg",{className:"w-8 h-8 transform -rotate-90",children:[(0,t.jsx)("circle",{cx:"16",cy:"16",r:"14",stroke:"currentColor",strokeWidth:"2",fill:"none",className:"text-gray-700"}),(0,t.jsx)("circle",{cx:"16",cy:"16",r:"14",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeDasharray:"".concat(2*Math.PI*14),strokeDashoffset:"".concat(2*Math.PI*14*(1-u/200)),className:p?"text-red-500":g?"text-yellow-500":"text-blue-500"})]})}),g&&(0,t.jsx)("span",{className:"text-sm ".concat(p?"text-red-500":"text-yellow-500"),children:200-u})]}),(0,t.jsx)(v,{orientation:"vertical",className:"h-6 bg-gray-700"}),(0,t.jsx)(l.$,{type:"submit",disabled:!i.trim()||p||d,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-700 disabled:text-gray-500 text-white font-semibold rounded-full px-6",children:"Post"})]})]})]})]})})]})})})},W=()=>{let[e,a]=(0,r.useState)([]),[s,l]=(0,r.useState)(!1),i=async()=>{try{l(!0);let e=await L.A.get("/post");a(e.data)}catch(e){console.error(e)}finally{l(!1)}};return(0,r.useEffect)(()=>{i()},[]),(0,t.jsxs)("div",{className:"min-h-screen",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-black/90 backdrop-blur-md border-b border-gray-800 z-10",children:[(0,t.jsx)("div",{className:"px-4 py-3",children:(0,t.jsx)("h1",{className:"text-xl font-bold text-white",children:"Home"})}),(0,t.jsx)(y.tU,{defaultValue:"foryou",className:"w-full",children:(0,t.jsxs)(y.j7,{className:"grid w-full grid-cols-2 bg-transparent border-b border-gray-800 rounded-none h-auto",children:[(0,t.jsx)(y.Xi,{value:"foryou",className:"data-[state=active]:bg-transparent data-[state=active]:text-white data-[state=active]:border-b-1 data-[state=active]:border-blue-100 data-[state=active]:rounded-none text-gray-400 hover:bg-gray-900/50 py-4 font-semibold",children:"For you"}),(0,t.jsx)(y.Xi,{value:"following",className:"data-[state=active]:bg-transparent data-[state=active]:text-white data-[state=active]:border-b-1 data-[state=active]:border-blue-100 data-[state=active]:rounded-none text-gray-400 hover:bg-gray-900/50 py-4 font-semibold",children:"Following"})]})})]}),(0,t.jsx)(B,{onTweetPosted:e=>{a(a=>[e,...a])}}),(0,t.jsx)("div",{className:"divide-y divide-gray-800",children:s?(0,t.jsx)(h.Zp,{className:"bg-black border-none",children:(0,t.jsx)(h.Wu,{className:"py-12 text-center",children:(0,t.jsxs)("div",{className:"text-gray-400 mb-4",children:[(0,t.jsx)(m.A,{size:"lg",className:"mx-auto mb-4"}),(0,t.jsx)("p",{children:"Loading tweets..."})]})})}):e.map(e=>(0,t.jsx)(w.A,{tweet:e},e._id))})]})};function F(){let[e,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)("signup"),{user:n,logout:d,googlesignin:c}=(0,f.A)(),o=e=>{i(e),a(!0)};return n?(0,t.jsx)(W,{}):(0,t.jsxs)("div",{className:"min-h-screen bg-black text-white flex",children:[(0,t.jsx)("div",{className:"hidden lg:flex lg:flex-1 items-center justify-center",children:(0,t.jsx)(j.A,{className:"text-white h-80 w-80"})}),(0,t.jsxs)("div",{className:"flex-1 lg:flex-1 flex flex-col justify-center px-8 lg:px-16 max-w-lg lg:max-w-2xl",children:[(0,t.jsx)("div",{className:"lg:hidden mb-8 text-center",children:(0,t.jsx)(j.A,{size:"xl",className:"text-white mx-auto"})}),(0,t.jsxs)("div",{className:"space-y-12",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-5xl lg:text-6xl font-bold mb-8 leading-tight",children:"Happening now"}),(0,t.jsx)("h2",{className:"text-2xl lg:text-3xl font-bold mb-8",children:"Join today."})]}),(0,t.jsxs)("div",{className:"space-y-4 max-w-xs",children:[(0,t.jsxs)(l.$,{variant:"outline",className:"w-full py-3 rounded-full border-gray-600 bg-black  text-white font-semibold text-base h-12",onClick:()=>c(),children:[(0,t.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,t.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,t.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,t.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]}),(0,t.jsxs)(l.$,{variant:"outline",className:"w-full py-3 rounded-full border-gray-600  bg-black text-white font-semibold text-base h-12",onClick:()=>c(),children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),"Sign up with Apple"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("span",{className:"w-full border-t border-gray-600"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,t.jsx)("span",{className:"bg-black px-2 text-gray-400",children:"or"})})]}),(0,t.jsx)(l.$,{className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 rounded-full text-base h-12",onClick:()=>o("signup"),children:"Create account"}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 leading-relaxed",children:["By signing up, you agree to the"," ",(0,t.jsx)("a",{href:"#",className:"text-blue-400 hover:underline",children:"Terms of Service"})," ","and"," ",(0,t.jsx)("a",{href:"#",className:"text-blue-400 hover:underline",children:"Privacy Policy"}),", including"," ",(0,t.jsx)("a",{href:"#",className:"text-blue-400 hover:underline",children:"Cookie Use"}),"."]})]}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsx)("p",{className:"text-lg font-bold",children:"Already have an account?"}),(0,t.jsx)(l.$,{variant:"outline",className:"w-full max-w-xs py-3 rounded-full border-gray-600 hover:bg-gray-900 text-blue-400 font-semibold text-base h-12",onClick:()=>o("login"),children:"Log in"})]})]})]}),(0,t.jsx)(N,{isOpen:e,onClose:()=>a(!1),initialMode:s})]})}},9787:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});var t=s(5155);function r(e){let{className:a="",size:s="md"}=e;return(0,t.jsx)("svg",{viewBox:"0 0 24 24",className:"fill-current ".concat({sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"}[s]," ").concat(a),"aria-label":"X",children:(0,t.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}s(2115)}},e=>{e.O(0,[563,237,441,255,358],()=>e(e.s=7802)),_N_E=e.O()}]);